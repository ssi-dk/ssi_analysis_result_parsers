# Additional Learning Resources


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

Now that you’ve finished the getting started in
`./GETTING_STARTED_WITH_TEMPLATE.md`, you’ll notice the directory has
many new files and folders. In this example `$YOUR_REPO_NAME` is
`template_nbdev_example` so be sure to adjust accordingly.

There’s now

``` bash
./_docs
.quarto
./template_nbdev_example # This is the code autogenerated from the notebooks, you should only adjust this through your notebooks
./template_nbdev_example/__pycache__
./template_nbdev_example/__init__.py
./template_nbdev_example/_modidx.py
./template_nbdev_example/core.py
./template_nbdev_example/hello_world.py
./template_nbdev_example.egg-info # This is metadata about the package for pip
_quarto.yml
index.ipynb # This is a notebook for showing how the program works and generated the README.md, you should adjust this
MANIFEST.in # This determines what files outside of .py files are included in the package, you may need to adjust it.
README.md
setup.py # This is the file that tells pip how to install the package, you shouldn't need to edit this ever
styles.css
```

> If you want to check what you’re documentation looks like run
> `nbdev_preview` in command line of the project folder

# Libraries

Here we include all the libraries of this module. You can see they’re
sectioned so the top parts can be easy cut and paste into new files.

Normally your imports go into Project specific libraries above, but
we’ll put it in a code block here. In this example you’ll want to
comment out the code below, because YOUR_REPO_NAME changes with each
repository, it’ll cause issues if you try to run it with a different
repository name

Because the notebooks now are located in the `nbs` folder, we need to
change the python `wd` for the notebook to the project folder. Keep this
included in all notebooks but don’t export it to the package.

``` python
# This block should never be exported. It is to have python running in the project (and not the nbs) dir, and to initiate the package using pip.
os.chdir(core.PROJECT_DIR)
```

Now you have access to your functions in core.py and call call them
here.

NOTE: if you change another notebook, run nbdev_prepare, and restart
your current kernel to see the changes

Here we’ll load the config file values, note that the file isn’t
exported so is for development and documentation purposes.

> **A note on config files**: The final package should only contain
> `config.default.*` files. These files are located in *package dir*
> `PACKAGE_DIR/config`. For development, custom config files can be
> specified in the *project dir* `PROJECT_DIR/config/` folder. These
> files will not be shipped with the package, but for development, they
> can be accessed from the project dir (thanks to to code above), which
> usually is your working directory in terminal while developping.

``` python
config = core.get_config()  # This will load the .env file and print the config
```

Lets look at our values, as we have a dictionary, that can be viewed
more nicely as a json object

``` python
# print the config as a json string
print(json.dumps(config, indent=4))
```

Lets make our own hello_world that’s a bit different from the test in
core. It take’s two names! This is exported so it goes into our module,
meaning it can be refernced with template_nbdev_example.hello_world

------------------------------------------------------------------------

<a
href="https://github.com/thej-ssi/ssi_analysis_result_parsers/blob/main/ssi_analysis_result_parsers/hello_world.py#L34"
target="_blank" style="float:right; font-size:smaller">source</a>

### hello_world

>  hello_world (name1:str, name2:str)

Now lets also make a function thats intended to call from the command
line. As we intend that make sure you get your config variables and
handle them properly!

------------------------------------------------------------------------

<a
href="https://github.com/thej-ssi/ssi_analysis_result_parsers/blob/main/ssi_analysis_result_parsers/hello_world.py#L42"
target="_blank" style="float:right; font-size:smaller">source</a>

### cli

>  cli (name:str=None, alternative_name:str=None, config_file:str=None)

*This will print Hello World! with your name*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>str</td>
<td>None</td>
<td>A name</td>
</tr>
<tr>
<td>alternative_name</td>
<td>str</td>
<td>None</td>
<td>An alternative name</td>
</tr>
<tr>
<td>config_file</td>
<td>str</td>
<td>None</td>
<td>config file to set env vars from</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

So now that it exists lets add it to our `settings.ini`, the
`console_scripts` section. We have already edited the file for you, it
should look like this (replace `name of your repo` with whatever you
called this repository when you initized it):

``` text
console_scripts =
    hello_world=<name of your repo>.hello_world:cli
```

For a new console-script, you’ll need to run `nbdev_prepare` to turn
this into a module and gain access to your new commands, if your
commands aren’t showing up ensure you’ve run
`python -m pip install -e '.[dev]'` in your `./venv`

The ! lets you run on the command line, so the following block only
works if everything above is successful. Remember to restart your kernel
if you make changes to the module.

``` python
!hello_world
```

With some different values

``` python
!hello_world --name "John" --alternative_name "Jane"
```

Try using an alternative config as well

``` python
!hello_world --config_file "./config.default.env"
```

Nice, you can also run these through the notebook as a function

``` python
cli(name="John", alternative_name="Jane", config_file="./config.default.env")
```

Lets add a test here as well, which will get run through
`./.github/workflows/test.yaml` whenever changes happen to the
repository

``` python
test.test_eq(
    None,
    cli(name="John", alternative_name="Jane", config_file="./config.default.env"),
)
```

If you’re on the default `config.default.env` and `config.default.yaml`
you’ll see at the bottom: “example.input.name”: “Kim”,
“example.input.alternative_name”: “Lee” I encourage you to adjust these
values to get familiar with the config files

That’s the demo for now, feel free to create
[issues](https://github.com/ssi-dk/template-nbdev/issues) if you have
suggestions to add.
